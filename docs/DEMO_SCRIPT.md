# 아산병원 의료 데이터 통합 플랫폼 (IDP) 시연 대본

> **목적**: 시스템 기능 증적을 위한 영상 촬영 대본
> **소요 시간**: 약 15~20분
> **URL**: http://localhost:5173
> **작성일**: 2026-02-07

---

## 0. 인트로 (30초)

**화면**: 브라우저에서 http://localhost:5173 접속

> 안녕하세요. 지금부터 **아산병원 의료 데이터 통합 플랫폼**, IDP 시스템의 주요 기능을 시연하겠습니다.
>
> 본 플랫폼은 OMOP CDM 기반의 임상 데이터를 통합 관리하고, AI 기반 분석 환경을 제공하는 시스템입니다. Synthea 합성 데이터 약 **7만 6천명**, 총 **9,200만 건**의 레코드가 적재되어 있습니다.

---

## 1. 플랫폼 현황 - 대시보드 (`/dashboard`) (2분)

**화면**: 좌측 메뉴 [홈] 클릭

> 첫 번째로 **플랫폼 현황 대시보드**입니다.
>
> 상단에 **4개의 핵심 지표**가 표시됩니다.
> - **데이터 레이크** 용량
> - **활성 파이프라인** 수
> - **쿼리 응답시간**
> - **보안 준수율**

**화면**: 방문 유형 차트 영역 가리키기

> 중앙에는 방문 유형별 분포가 표시됩니다. **외래**, **응급**, **입원** 세 가지 유형으로 나뉘며, OMOP CDM의 visit_occurrence 테이블 기준입니다.

**화면**: 데이터 품질 인덱스 영역

> 우측에는 **도메인별 데이터 품질 지수**가 있습니다.
> - 임상 도메인 98점
> - 영상 도메인 88점
> - 원무 도메인 99점
> - 검사 도메인 85점
> - 약물 도메인 92점
>
> 각 도메인의 품질 이슈 건수도 함께 확인할 수 있습니다.

**화면**: OPERATIONAL / ARCHITECTURE 뷰 전환

> 상단의 뷰 모드를 통해 **운영 현황 뷰**와 **아키텍처 뷰**를 전환할 수 있습니다.

---

## 2. 데이터 관리 (5분)

### 2-1. 데이터 카탈로그 (`/catalog`) (1분 30초)

**화면**: 좌측 메뉴 [데이터 관리] > [데이터 카탈로그] 클릭

> **데이터 카탈로그** 페이지입니다. OMOP CDM 기반 메타데이터를 탐색하고 데이터 자산을 관리합니다.

**화면**: 검색 영역 및 필터

> 좌측에 **패싯 검색** 기능이 있습니다.
> - **도메인** 필터: 임상, 검사, 약물 등
> - **태그** 필터
> - **민감도** 필터: 일반, PHI, 제한
>
> 키워드 검색과 함께 사용하면 원하는 테이블을 빠르게 찾을 수 있습니다.

**화면**: 테이블 카드 클릭하여 상세 모달 열기

> 테이블을 클릭하면 **상세 정보 모달**이 나타납니다.
> - **컬럼 정보**: 각 컬럼의 타입, 설명
> - **메타데이터**: 테이블 소유자, 생성일, 레코드 수
> - **리니지**: 해당 테이블의 데이터 흐름 시각화

**화면**: 우측 상단 [데이터 등록] 버튼

> **데이터 등록** 버튼을 통해 OMOP CDM, 외부 파일, API 연동, 직접 입력 등 다양한 소스에서 데이터를 등록할 수 있습니다.

---

### 2-2. 데이터마트 (`/datamart`) (2분)

**화면**: 좌측 메뉴 [데이터 관리] > [데이터마트] 클릭

> **데이터마트** 페이지입니다. OMOP CDM V6.0 기반 임상 데이터 탐색 환경을 제공합니다.

#### 탭 1: CDM 변환 요약

**화면**: [CDM 변환 요약] 탭 (기본 선택)

> 첫 번째 탭은 **CDM 변환 요약**입니다.
>
> 상단에 핵심 통계가 표시됩니다.
> - **총 환자 수**: 약 76,000명
> - **총 레코드 수**: 약 9,200만 건
> - **CDM 테이블 수**: 18개
> - **성별 분포**: 남성 37,796명 / 여성 38,278명

**화면**: 주요 진단 및 방문 유형 차트

> 중앙에는 **주요 진단 코드** 상위 항목이 SNOMED CT 코드와 함께 표시됩니다. 예를 들어 당뇨는 44054006, 고혈압은 38341003입니다.
>
> 그 아래 **방문 유형별 분포**가 있습니다. 입원(9201), 외래(9202), 응급(9203)으로 구분됩니다.

#### 탭 2: 테이블 탐색

**화면**: [테이블 탐색] 탭 클릭

> 두 번째 탭은 **테이블 탐색**입니다. 좌측에서 테이블을 선택하면 우측에 상세 정보가 표시됩니다.

**화면**: person 테이블 선택

> 예를 들어 person 테이블을 선택하면 4개의 서브탭이 나타납니다.
> - **스키마 정보**: 컬럼명, 데이터 타입, 설명
> - **샘플 데이터**: 실제 데이터 상위 100건 미리보기
> - **사용 예제 코드**: Python과 R로 접속하는 코드 스니펫 제공
> - **CDM 매핑**: 원본 값과 OMOP 표준 코드 간 매핑 정보

---

### 2-3. 데이터 거버넌스 (`/governance`) (1분 30초)

**화면**: 좌측 메뉴 [데이터 관리] > [데이터 거버넌스] 클릭

> **데이터 거버넌스** 페이지입니다. 5개의 탭으로 구성되어 있습니다.

#### 탭 1: 데이터 품질

**화면**: [데이터 품질] 탭 (기본 선택)

> 첫 번째 탭은 **데이터 품질**입니다. 도메인별 품질 점수와 이슈 현황을 모니터링합니다.

#### 탭 2: 메타데이터

**화면**: [메타데이터] 탭 클릭

> 두 번째 탭은 **메타데이터** 관리입니다. 표준 메타데이터와 비즈니스 메타데이터를 통합 관리합니다.

#### 탭 3: 데이터 리니지

**화면**: [데이터 리니지] 탭 클릭

> 세 번째 탭은 **데이터 리니지**입니다. 테이블 간 데이터 흐름과 의존 관계를 시각화합니다.

#### 탭 4: 표준/보안

**화면**: [표준/보안] 탭 클릭

> 네 번째 탭은 **표준 및 보안** 관리입니다. 데이터 표준 준수율과 보안 정책을 관리합니다.

#### 탭 5: 비식별화

**화면**: [비식별화] 탭 클릭

> 다섯 번째 탭은 **비식별화**입니다. 개인 정보 보호를 위한 비식별화 규칙과 마스킹 정책을 설정합니다.

---

## 3. BI 대시보드 (`/bi`) (1분)

**화면**: 좌측 메뉴 [BI 대시보드] 클릭

> **셀프서비스 BI 대시보드** 페이지입니다. Apache Superset을 통합하여 셀프서비스 분석 환경을 제공합니다.

**화면**: 상단 통계 카드 및 바로가기 버튼

> 상단에 현재 등록된 **차트**, **대시보드**, **데이터셋** 수가 표시됩니다.
>
> 4개의 바로가기 버튼이 있습니다.
> - **대시보드**: 등록된 대시보드 목록
> - **차트**: 시각화 차트 목록
> - **데이터셋**: 분석에 사용할 데이터셋
> - **SQL Lab**: 직접 SQL을 작성하여 분석하는 인터랙티브 쿼리 환경

**화면**: Superset 화면 (임베딩 또는 새 탭)

> 각 버튼을 클릭하면 Superset의 해당 기능으로 바로 이동합니다.

---

## 4. AI & 연구 (7분)

### 4-1. AI 분석환경 (`/ai-environment`) (3분)

**화면**: 좌측 메뉴 [AI & 연구] > [AI 분석환경] 클릭

> **AI 데이터 분석환경** 페이지입니다. Docker 기반 컨테이너 분석환경과 리소스 관리를 제공합니다.

**화면**: 상단 통계 카드 4개

> 상단에 시스템 현황이 실시간으로 표시됩니다.
> - **활성 컨테이너** 수
> - **CPU 사용률**
> - **메모리** 사용량
> - **디스크** 사용량

#### 탭 1: 컨테이너 관리

**화면**: [컨테이너 관리] 탭 (기본 선택)

> 첫 번째 탭은 **컨테이너 관리**입니다. 현재 실행 중인 Docker 컨테이너 목록이 표시됩니다.
>
> 각 컨테이너의 이름, 이미지, 상태, CPU/메모리 제한, 생성일을 확인할 수 있습니다.
> 인프라 컨테이너는 **인프라** 태그가 붙어 있으며, 삭제나 중지가 보호됩니다.

**화면**: [새 컨테이너 생성] 버튼 클릭

> **새 컨테이너 생성** 버튼을 클릭하면 컨테이너 이름, CPU 제한, 메모리 제한, 템플릿을 설정할 수 있습니다.

**화면**: JupyterLab 열기 버튼 (running 상태 컨테이너)

> 실행 중인 JupyterLab 컨테이너의 **열기** 버튼을 클릭하면 JupyterLab에 바로 접속할 수 있습니다.

#### 탭 2: 분석 템플릿

**화면**: [분석 템플릿] 탭 클릭

> 두 번째 탭은 **분석 템플릿**입니다. 사전 정의된 4가지 분석 환경을 제공합니다.
> - **탐색적 데이터 분석(EDA)**: pandas, matplotlib, seaborn 등
> - **딥러닝 연구**: PyTorch, TensorFlow, CUDA
> - **자연어 처리(NLP)**: Transformers, spaCy, NLTK
> - **의료 영상 분석**: pydicom, OpenCV, SimpleITK

**화면**: 템플릿 카드의 [이 템플릿으로 시작] 버튼

> 각 템플릿의 기본 CPU, 메모리 설정이 미리 구성되어 있어 버튼 한 번으로 분석 환경을 생성할 수 있습니다.

#### 탭 3: 리소스 모니터링

**화면**: [리소스 모니터링] 탭 클릭

> 세 번째 탭은 **리소스 모니터링**입니다.
> - **CPU 사용률**: 프로그레스 바로 실시간 표시
> - **메모리 사용률**: 사용량/전체 용량 표시
> - **디스크 사용률**: 사용량/전체 용량 표시
> - **GPU 상태**: nvidia-smi 기반 GPU 사용률, VRAM, 온도 표시

**화면**: "10초 자동 갱신" 태그

> 모든 수치는 **10초 간격으로 자동 갱신**됩니다.

#### 탭 4: 분석 작업 공유

**화면**: [분석 작업 공유] 탭 클릭

> 네 번째 탭은 **분석 작업 공유**입니다. Google Colab과 유사한 노트북 공유 환경을 제공합니다.

**화면**: 공유 노트북 라이브러리 영역

> 좌측에 **공유 노트북 라이브러리**가 있습니다. 현재 3개의 분석 노트북이 등록되어 있습니다.
> - **OMOP CDM 환자분포 분석**: 성별, 연령대, 방문 유형별 분포
> - **고혈압-당뇨 동반질환 분석**: 코호트 식별, 약물 처방 패턴
> - **연도별 방문추이 분석**: 방문 트렌드, 계절성, 재원일수

**화면**: 노트북 [열기] 버튼 클릭 -> JupyterLab 새 탭 오픈

> **열기** 버튼을 클릭하면 해당 노트북이 JupyterLab 워크스페이스에 복사되고, **새 탭에서 JupyterLab이 열립니다**. 실시간으로 코드를 편집하고 실행할 수 있습니다.

**화면**: 미리보기 버튼 클릭 -> 모달

> **미리보기** 버튼을 클릭하면 노트북의 셀 내용을 모달에서 빠르게 확인할 수 있습니다. Markdown 셀과 Code 셀이 구분되어 표시됩니다.

**화면**: 노트북 업로드 버튼

> **노트북 업로드** 버튼으로 자신의 .ipynb 파일을 공유 라이브러리에 등록할 수 있습니다.

**화면**: 우측 워크스페이스 패널

> 우측에는 **JupyterLab 워크스페이스** 패널이 있어, 현재 작업 중인 노트북 목록을 확인하고 클릭하면 바로 JupyterLab에서 열 수 있습니다.

---

### 4-2. CDW 데이터 추출 및 연구 지원 (`/cdw`) (2분)

**화면**: 좌측 메뉴 [AI & 연구] > [CDW 연구지원] 클릭

> **CDW 데이터 추출 및 연구 지원** 페이지입니다. 자연어로 질문하면 AI가 SQL을 생성하고 실행하는 Text2SQL 기능을 제공합니다.

**화면**: 사용자 역할 선택 드롭다운

> 사용자 역할을 선택할 수 있습니다.
> - **연구자**: 환자 코호트, 검사 결과 관련 질의
> - **임상의**: 처방 이력, 재원일수 관련 질의
> - **데이터 분석가**: 통계, 추이 분석 관련 질의
> - **시스템 관리자**: 테이블 현황, 데이터 분포 관련 질의

**화면**: 예시 질의 태그 클릭 (예: "고혈압 진단 환자 중 동시에 다른 진단을 보유한 환자의 동반질환 분포")

> 역할별로 **예시 질의**가 제공됩니다. 태그를 클릭하면 질의가 자동 입력됩니다.

**화면**: [질의 실행] 버튼 클릭 -> 결과 표시

> **질의 실행** 버튼을 클릭하면 AI가 다음 과정을 수행합니다.
> 1. **프롬프트 강화**: 원본 질의를 의료 도메인에 맞게 강화
> 2. **SQL 생성**: 강화된 질의를 OMOP CDM SQL로 변환
> 3. **자동 실행**: 생성된 SQL을 데이터베이스에서 실행

**화면**: 결과 카드 (신뢰도, SQL, 실행 결과)

> 결과 화면에서는 다음을 확인할 수 있습니다.
> - **강화 신뢰도**와 **SQL 신뢰도** 점수
> - 원본 질의 vs 강화된 질의 비교
> - 적용된 강화 사항 (태그)
> - **생성된 SQL** (복사 가능)
> - **실행 결과**: 조회 건수, 실행 시간, 결과 테이블
> - **자동 시각화 차트**: 결과에 적합한 차트 자동 생성

---

### 4-3. 비정형 데이터 구조화 - Medical NER (`/ner`) (2분)

**화면**: 좌측 메뉴 [AI & 연구] > [비정형 구조화] 클릭

> **비정형 데이터 구조화** 페이지입니다. 의무기록 텍스트에서 의료 개체명을 자동 추출하고 표준 코드에 매핑합니다. GPU 서버의 BioClinicalBERT 모델을 활용합니다.

**화면**: 예시 텍스트 선택 (예: "당뇨 진료기록")

> 4가지 **예시 의무기록**이 준비되어 있습니다.
> - 당뇨 진료기록
> - 영상의학 소견
> - 심장내과 경과기록
> - 혈액검사 결과

**화면**: 텍스트 입력 후 분석 실행

> 예시 텍스트를 선택하거나 직접 입력한 후 분석을 실행합니다.

**화면**: 분석 결과 - 하이라이트된 텍스트

> 결과 화면에서 원문 텍스트에 **개체명이 색상으로 하이라이트**됩니다.
> - **빨강**: 진단 (Condition) - 예: 제2형 당뇨, 고혈압
> - **파랑**: 약물 (Drug) - 예: Metformin, Amlodipine
> - **초록**: 검사 (Measurement) - 예: HbA1c, LDL
> - **보라**: 시술 (Procedure) - 예: 관상동맥 조영술
> - **주황**: 인물 (Person)

**화면**: 개체명 테이블 및 OMOP 매핑

> 하단에는 추출된 개체명의 **상세 테이블**이 표시됩니다.
> - 개체명 텍스트
> - 개체 유형
> - **OMOP 표준 코드 매핑**: SNOMED CT, RxNorm, LOINC 등
> - 신뢰도 점수
>
> 한국어 텍스트는 **사전 기반 매칭**(67개 의료 용어), 영어 텍스트는 **BioClinicalBERT** 모델로 처리됩니다.

---

## 5. 아웃트로 (30초)

**화면**: 다시 대시보드로 이동

> 이상으로 아산병원 의료 데이터 통합 플랫폼의 주요 기능 시연을 마치겠습니다.
>
> 본 플랫폼은 **OMOP CDM 표준** 기반으로 데이터를 통합 관리하고, **Text2SQL**, **NER**, **JupyterLab** 등 AI 기반 분석 도구를 제공하여 연구자와 임상의의 데이터 활용을 지원합니다.
>
> 감사합니다.

---

## 부록: 시연 전 체크리스트

| 항목 | 확인 |
|------|------|
| FastAPI 백엔드 (port 8000) 실행 중 | [ ] |
| Vite 프론트엔드 (port 5173) 실행 중 | [ ] |
| OMOP DB 컨테이너 (port 5436) 실행 중 | [ ] |
| JupyterLab 컨테이너 (port 18888) 실행 중 | [ ] |
| SSH 터널 (LLM 28888, NER 28100) 연결 | [ ] |
| 브라우저 캐시 초기화 | [ ] |
| 화면 해상도 1920x1080 이상 | [ ] |

## 부록: 페이지 경로 요약

| 메뉴 | 페이지명 | 경로 | 탭 수 |
|------|----------|------|-------|
| 홈 | 플랫폼 현황 | `/dashboard` | - |
| 데이터 관리 | 데이터 카탈로그 | `/catalog` | - |
| 데이터 관리 | 데이터마트 | `/datamart` | 2 |
| 데이터 관리 | 데이터 거버넌스 | `/governance` | 5 |
| BI | 셀프서비스 BI | `/bi` | - |
| AI & 연구 | AI 분석환경 | `/ai-environment` | 4 |
| AI & 연구 | CDW 연구지원 | `/cdw` | - |
| AI & 연구 | 비정형 구조화 | `/ner` | - |
