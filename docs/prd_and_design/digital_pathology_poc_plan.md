# 디지털 병리 통합 플랫폼 POC 기획 및 이행 계획서
(Digital Pathology Integration Platform POC Plan)

## 1. 개요 (Overview)
본 문서는 현실적인 인프라 제약 하에서 대용량 디지털 병리 데이터(WSI)를 효율적으로 통합하고, AI 기반의 인사이트를 제공하기 위한 Proof of Concept(POC) 전략을 기술한다. AI-Hub의 한국인 암 조직 병리 데이터를 활용하여 시스템 아키텍처를 검증하고, 전문 AI 모델(Qwen2.5-VL)을 통한 판독문 자동 구조화 및 이미지 매핑 기술을 실증하는 데 목적이 있다.

## 2. 현황 분석 및 제약 사항
### 2.1 인프라 상황
*   **가용 스토리지:** 총 4TB (WSL 환경)
*   **현재 사용량:** 2.5TB
*   **여유 공간:** **약 1.5TB (Pathology POC 가용 리소스)**

### 2.2 데이터 요구량 (예상)
*   전체 AI-Hub WSI 세트: 30~50TB (로컬 적재 불가능)
*   타일(Tile) 데이터 세트: 2TB 이상 (여유 공간 부족)

## 3. 핵심 전략: 스마트 샘플링 및 하이브리드 관리
### 3.1 하이브리드 3-Tier 데이터 구성
로컬 스토리지의 한계를 극복하기 위해 데이터를 중요도와 용도에 따라 3단계로 관리한다.

| 단계 (Tier) | 데이터 형태 | 타겟 수량 | 목적 | 특징 |
| :--- | :--- | :--- | :--- | :--- |
| **Tier 1** | Full WSI (원본) | 50개 | 시연 및 뷰어 검증 | 고해상도 뷰어, AI Tumor Detection 오버레이 시연 |
| **Tier 2** | Tile (분할 이미지) | 300~500개 | AI 모델 학습/검증 | 통계적 신뢰성 확보, MLflow 기반 평가 |
| **Tier 3** | Metadata Only | 1,000개+ | 검색 풍부성 확보 | 판독문 텍스트, 환자 정보 중심의 벡터/시맨틱 검색 |

### 3.2 병원 인프라 협업 모델 (Scale-out)
*   **Phase 1 (로컬):** 1.5TB 이내에서 POC 핵심 기능 구현 및 검증.
*   **Phase 2 (병원 서버):** 대용량 데이터(30TB+)는 병원 내 개발 서버에 적재하고 네트워크로 연결하여 실제 운영 환경 시뮬레이션.

## 4. AI 기술 스택 (AI Strategy)
### 4.1 핵심 모델: Qwen2.5-VL-32B
*   **용도:** 판독문 인사이트(Report Insight) 생성 및 멀티모달 분석
*   **특징:** 
    *   **비정형 구조화:** 텍스트 판독문에서 암종, 병기(Stage), 침윤 정도 등을 자동 추출.
    *   **멀티모달 매핑:** 이미지(타일)와 텍스트(판독문) 간의 상관관계 분석.
    *   **자연어 질의응답:** 전문의의 질문에 대해 병리 이미지와 리포트를 기반으로 답변 생성.

### 4.2 데이터 처리 파이프라인
*   **SmartSampler:** 메타데이터 기반 전략적 케이스 선별 (암종별 균등 분포 유지).
*   **aihubshell:** API 기반 선별적 다운로드 및 자동 병합.
*   **Pre-processing:** OpenSlide 기반 WSI 타일링 및 피처 추출.

## 5. UI/UX 및 메뉴 구성
### 5.1 메뉴 위치
*   **대분류:** `AI & 의료 지능` (ai-medical)
*   **메뉴명:** 디지털 병리 (Digital Pathology)

### 5.2 화면 구성 초안
1.  **Slide Explorer:** 50개의 Tier 1 WSI를 자유롭게 탐색할 수 있는 고해상도 뷰어 영역.
2.  **Report Insight Panel:** Qwen2.5-VL이 판독문을 분석하여 표와 차트로 시각화한 대시보드.
3.  **Cross-Modal Search:** "림프절 전이가 의심되는 60대 여성 유방암 케이스"와 같은 자연어 검색 인터페이스.

## 6. 이행 계획 (Roadmap)
### Phase 1: 기반 구축 및 데이터 확보 (1~2주)
*   AI-Hub 유방암 합성데이터(Key: 71831) 선별 다운로드 (Other + Validation).
*   `.env` 기반 API 연동 및 `aihubshell` 자동화 스크립트 구축.
*   WSL 내 가용 공간 모니터링 체계 수립.

### Phase 2: AI 모델링 및 시스템 개발 (2~4주)
*   Qwen2.5-VL-32B 서빙 엔진 설정.
*   판독문 구조화 로직 개발 및 벡터 DB(Qdrant/Milvus) 연동.
*   디지털 병리 전용 UI 컴포넌트 개발.

### Phase 3: 통합 시뮬레이션 및 POC 완료 (4주~)
*   이미지-텍스트 교차 분석 데모 시나리오 완성.
*   병원 인프라 확장성 테스트(Remote Data Access) 검증.
*   경쟁사 대비 전문성 강조된 발표 자료(PPT/Report) 작성.

## 7. 활용 데이터 상세 (AI-Hub)
*   **데이터셋명:** 유방암 병리 이미지 및 판독문 합성데이터
*   **데이터 키:** `71831`
*   **선별 파일:**
    *   `555817` (Other.zip) - 판독문 및 가이드라인
    *   `555824~555829` (Validation 세트) - 시연용 고품질 이미지 및 정답지
